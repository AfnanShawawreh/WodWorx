{"ast":null,"code":"import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from \"react\";\nvar __jsx = React.createElement;\nimport Head from 'next/head'; // export default () => (\n//   <>\n//     <Head>\n//       <title>next-pwa example</title>\n//     </Head>\n//     <h1>Next.js + PWA = AWESOME!</h1>\n// import cookie from \"js-cookie\";\n// import Layout from \"../components/Layout\";\n\nimport axios from \"axios\";\n\nvar Login = function Login() {\n  var _useState = useState(\"\"),\n      _useState2 = _slicedToArray(_useState, 2),\n      loginError = _useState2[0],\n      setLoginError = _useState2[1];\n\n  var _useState3 = useState(\"\"),\n      _useState4 = _slicedToArray(_useState3, 2),\n      email = _useState4[0],\n      setEmail = _useState4[1];\n\n  var _useState5 = useState(\"\"),\n      _useState6 = _slicedToArray(_useState5, 2),\n      password = _useState6[0],\n      setPassword = _useState6[1];\n\n  function handleSubmit(e) {\n    e.preventDefault();\n    axios.post(\"https://api.wodworx.com/v1/user/login\", {\n      email: email,\n      password: password\n    }).then(function (res) {\n      console.log(\"res\", res);\n\n      if (res.data.token) {\n        AsyncStorage.setItem(\"token\", JSON.stringify(res.data.token)); // cookie.set('token', data.token, {expires: 2});\n      } else {\n        if (res.data.errors.password === \"Incorrect email or password\") {\n          alert(\"Incorrect email or password\");\n        }\n\n        if (res.data.errors.email === \"Email cannot be blank.\") {\n          alert(\"Email cannot be blank.\");\n        }\n\n        if (res.data.errors.password === \"password cannot be blank.\") {\n          alert(\"password cannot be blank.\");\n        }\n\n        if (res.data.errors.email === \"Email is not a valid email address.\") {\n          alert(\"Email cannot be blank.\");\n        }\n      }\n    })[\"catch\"](function (err) {\n      console.log(\"error in request\", err);\n    });\n  }\n\n  return __jsx(React.Fragment, null, __jsx(\"form\", {\n    onSubmit: handleSubmit\n  }, __jsx(\"p\", null, \"Login\"), __jsx(\"input\", {\n    name: \"email\",\n    type: \"email\",\n    value: email,\n    onChange: function onChange(e) {\n      return setEmail(e.target.value);\n    }\n  }), __jsx(\"input\", {\n    name: \"password\",\n    type: \"password\",\n    value: password,\n    onChange: function onChange(e) {\n      return setPassword(e.target.value);\n    }\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    value: \"Submit\"\n  }), loginError && __jsx(\"p\", {\n    style: {\n      color: \"red\"\n    }\n  }, loginError)));\n};\n\nexport default Login;","map":null,"metadata":{},"sourceType":"module"}